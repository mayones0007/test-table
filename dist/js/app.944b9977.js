(function(t){function e(e){for(var a,i,s=e[0],l=e[1],o=e[2],b=0,j=[];b<s.length;b++)i=s[b],Object.prototype.hasOwnProperty.call(c,i)&&c[i]&&j.push(c[i][0]),c[i]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);u&&u(e);while(j.length)j.shift()();return r.push.apply(r,o||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],a=!0,s=1;s<n.length;s++){var l=n[s];0!==c[l]&&(a=!1)}a&&(r.splice(e--,1),t=i(i.s=n[0]))}return t}var a={},c={app:0},r=[];function i(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=a,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/test-table/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var o=0;o<s.length;o++)e(s[o]);var u=l;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"4b1a":function(t,e,n){},"555f":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);var a=n("7a23"),c=n("5502");function r(t){const e=Math.floor(Math.random()*Math.floor(t.length));return t[e]}function i(){const t=new Date,e=Math.floor(10*Math.random());return t.setDate(t.getDate()+e),t.toLocaleDateString()}function s(){return Array.from({length:100},()=>({date:i(),name:r(["Хлеб","Молоко","Мясо","Масло","Сыр","Огурцы","Кока-кола","Дыня","Зелень"]),count:Math.floor(100*Math.random()),distance:Math.floor(100*Math.random())}))}const l=Object(c["a"])({state(){return{data:[],filteredData:[]}},actions:{getData(){const t=s();this.commit("setData",t),this.commit("setFilteredData",t)}},mutations:{setData(t,e){t.data=e},setFilteredData(t,e){t.filteredData=e},resetFilteredData(t){t.filteredData=t.data}}});function o(t,e,n,c,r,i){const s=Object(a["L"])("Table");return Object(a["D"])(),Object(a["g"])(s)}const u=t=>(Object(a["G"])("data-v-03e990d8"),t=t(),Object(a["E"])(),t),b={class:"table table-striped"},j=["onClick"],d={class:"navigation"},O={class:"pagination"},f=["onClick"],p={class:"input-group mb-3 count-on-page"},m=u(()=>Object(a["j"])("label",{class:"input-group-text",for:"value"},"На странице",-1)),h=["value"];function g(t,e,n,c,r,i){const s=Object(a["L"])("Filters");return Object(a["D"])(),Object(a["i"])(a["b"],null,[Object(a["m"])(s,{onSetTablePage:e[0]||(e[0]=t=>i.setPage(1))}),Object(a["j"])("table",b,[Object(a["j"])("thead",null,[Object(a["j"])("tr",null,[(Object(a["D"])(!0),Object(a["i"])(a["b"],null,Object(a["J"])(r.columns,t=>(Object(a["D"])(),Object(a["i"])("th",{key:t},[Object(a["j"])("div",{onClick:e=>i.sortFunc(t.name)},[Object(a["l"])(Object(a["N"])(t.translation)+" ",1),Object(a["j"])("img",{class:Object(a["w"])(["icon__caret",{"icon__caret--active":r.sortColumn===t.name,"icon__caret--reverse":r.reverse}]),src:"icons/caret.svg"},null,2)],8,j)]))),128))])]),Object(a["j"])("tbody",null,[(Object(a["D"])(!0),Object(a["i"])(a["b"],null,Object(a["J"])(i.sortedData,t=>(Object(a["D"])(),Object(a["i"])("tr",{key:t},[(Object(a["D"])(!0),Object(a["i"])(a["b"],null,Object(a["J"])(r.columns,e=>(Object(a["D"])(),Object(a["i"])("td",{key:e},[Object(a["j"])("div",null,Object(a["N"])(t[e.name]),1)]))),128))]))),128))])]),Object(a["j"])("div",d,[Object(a["j"])("nav",null,[Object(a["j"])("ul",O,[Object(a["j"])("li",{class:Object(a["w"])(["page-item",{disabled:this.page<2}])},[Object(a["j"])("a",{class:"page-link",onClick:e[1]||(e[1]=t=>i.changePage(-1))},"«")],2),(Object(a["D"])(!0),Object(a["i"])(a["b"],null,Object(a["J"])(i.pagesCount,t=>(Object(a["D"])(),Object(a["i"])("li",{key:t,class:Object(a["w"])(["page-item",{active:this.page===t}])},[Object(a["j"])("a",{class:"page-link",onClick:e=>i.setPage(t)},Object(a["N"])(t),9,f)],2))),128)),Object(a["j"])("li",{class:Object(a["w"])(["page-item",{disabled:this.page>=i.pagesCount}])},[Object(a["j"])("a",{class:"page-link",onClick:e[2]||(e[2]=t=>i.changePage(1))},"»")],2)])]),Object(a["j"])("div",p,[m,Object(a["Y"])(Object(a["j"])("select",{class:"form-select",id:"value","onUpdate:modelValue":e[3]||(e[3]=t=>r.countOnPage=t)},[(Object(a["D"])(),Object(a["i"])(a["b"],null,Object(a["J"])(5,t=>Object(a["j"])("option",{key:t,value:10*t},Object(a["N"])(10*t),9,h)),64))],512),[[a["U"],r.countOnPage]])])])],64)}const v=[{name:"date",translation:"Дата",type:"date"},{name:"name",translation:"Название",type:"text"},{name:"count",translation:"Количество",type:"number"},{name:"distance",translation:"Расстояние",type:"number"}],D=t=>(Object(a["G"])("data-v-90d78f12"),t=t(),Object(a["E"])(),t),y={class:"filters"},F={class:"input-group"},C=D(()=>Object(a["j"])("label",{class:"input-group-text",for:"column"},"Колонка",-1)),k=["value"],P={class:"input-group"},w=D(()=>Object(a["j"])("label",{class:"input-group-text",for:"condition"},"Условие",-1)),_=["value"],M={class:"input-group"},x=D(()=>Object(a["j"])("label",{class:"input-group-text",for:"value"},"Значение",-1)),J=["disabled"];function S(t,e,n,c,r,i){return Object(a["D"])(),Object(a["i"])("div",y,[Object(a["j"])("div",F,[C,Object(a["Y"])(Object(a["j"])("select",{class:"form-select",id:"column","onUpdate:modelValue":e[0]||(e[0]=t=>r.column=t)},[(Object(a["D"])(!0),Object(a["i"])(a["b"],null,Object(a["J"])(r.columns,t=>(Object(a["D"])(),Object(a["i"])("option",{key:t,value:t},Object(a["N"])(t.translation),9,k))),128))],512),[[a["U"],r.column]])]),Object(a["j"])("div",P,[w,Object(a["Y"])(Object(a["j"])("select",{class:"form-select",id:"condition","onUpdate:modelValue":e[1]||(e[1]=t=>r.filter.filterFunc=t)},[(Object(a["D"])(!0),Object(a["i"])(a["b"],null,Object(a["J"])(i.conditions,t=>(Object(a["D"])(),Object(a["i"])("option",{key:t.name,value:t.filterFunc},Object(a["N"])(t.name),9,_))),128))],512),[[a["U"],r.filter.filterFunc]])]),Object(a["j"])("div",M,[x,"date"===r.column.name?(Object(a["D"])(),Object(a["i"])("input",{key:0,class:"form-control",type:"date",id:"value",onChange:e[2]||(e[2]=(...t)=>i.changeFilterDate&&i.changeFilterDate(...t))},null,32)):Object(a["Y"])((Object(a["D"])(),Object(a["i"])("input",{key:1,class:"form-control",id:"value","onUpdate:modelValue":e[3]||(e[3]=t=>r.filter.value=t)},null,512)),[[a["V"],r.filter.value]])]),Object(a["j"])("button",{class:"btn btn-outline-success",disabled:i.setFiltersButtonIsDisabled,onClick:e[4]||(e[4]=(...t)=>i.filterFunc&&i.filterFunc(...t))},"Фильтровать",8,J),Object(a["j"])("button",{class:"btn btn-outline-danger",onClick:e[5]||(e[5]=t=>i.resetFilters())},"Сбросить")])}const $=[{name:"равно",typeOfData:["text","number","date"],filterFunc:(t,e,n)=>t.filter(t=>t[e].toString().toLowerCase()===n.toLowerCase())},{name:"содержит",typeOfData:["text"],filterFunc:(t,e,n)=>t.filter(t=>t[e].toString().toLowerCase().includes(n.toLowerCase()))},{name:"больше",typeOfData:["number","date"],filterFunc:(t,e,n)=>t.filter(t=>t[e]>n)},{name:"меньше",typeOfData:["number","date"],filterFunc:(t,e,n)=>t.filter(t=>t[e]<n)}];var L={data(){return{filters:$,filter:{},column:{},columns:v}},name:"Filters",computed:{setFiltersButtonIsDisabled(){return!this.column||!this.filter.filterFunc||!this.filter.value},conditions(){return this.filters.filter(t=>t.typeOfData.includes(this.column.type)&&t)}},methods:{changeFilterDate(t){this.filter.value=t.target.value.split("-").reverse().join("/")},filterFunc(){const t=this.column.name,e=this.filter.value;this.$store.commit("setFilteredData",this.filter.filterFunc(this.$store.state.data,t,e)),this.$emit("setTablePage")},resetFilters(){this.$store.commit("resetFilteredData"),this.filter={},this.column={}}}},T=(n("d2fa"),n("6b0d")),U=n.n(T);const N=U()(L,[["render",S],["__scopeId","data-v-90d78f12"]]);var V=N,I={components:{Filters:V},data(){return{columns:v,reverse:!1,page:1,countOnPage:10,sortColumn:""}},name:"Table",computed:{filteredData(){return this.$store.state.filteredData.slice((this.page-1)*this.countOnPage,this.page*this.countOnPage)},pagesCount(){return Math.ceil(this.$store.state.filteredData.length/this.countOnPage)},sortedData(){const t=this.reverse?[...this.$store.state.filteredData].sort((t,e)=>t[this.sortColumn]>e[this.sortColumn]?1:-1):[...this.$store.state.filteredData].sort((t,e)=>t[this.sortColumn]<e[this.sortColumn]?1:-1);return t.slice((this.page-1)*this.countOnPage,this.page*this.countOnPage)}},methods:{sortFunc(t){if("date"!==t){if(this.sortColumn===t)return void(this.reverse=!this.reverse);this.sortColumn=t,this.reverse=!1}},setPage(t){this.page=t},changePage(t){this.page=this.page+t}}};n("93e4");const Y=U()(I,[["render",g],["__scopeId","data-v-03e990d8"]]);var A=Y,B={name:"App",components:{Table:A},created(){this.$store.dispatch("getData")}};n("dc25");const E=U()(B,[["render",o]]);var G=E,q=n("b80d");n("f9e3"),n("1a26");Object(a["f"])(G).use(q["a"]).use(l).mount("#app")},"60b8":function(t,e,n){},"93e4":function(t,e,n){"use strict";n("555f")},d2fa:function(t,e,n){"use strict";n("60b8")},dc25:function(t,e,n){"use strict";n("4b1a")}});
//# sourceMappingURL=app.944b9977.js.map